<nav class="navbar navbar-expand-lg navbar-light">
  <div class="container-fluid">
    <a class="navbar-brand" routerLink="/">InnovaBank</a>

    <div class="d-flex">
      <ng-container *ngIf="userRole; else notLoggedIn">
        <!--  Bot贸n de usuario con men煤 desplegable -->
        <button 
          mat-button 
          [matMenuTriggerFor]="userMenu" 
          #menuTrigger="matMenuTrigger"
          (mouseenter)="openMenu(menuTrigger)"
        >
          {{ userEmail }}
        </button>

        <!--  Men煤 desplegable -->
        <mat-menu 
          #userMenu="matMenu"
          (mouseenter)="cancelClose()"
          (mouseleave)="scheduleClose(menuTrigger)"
        >
          <!--  Opci贸n din谩mica basada en el rol -->
          <button *ngIf="userRole === 'admin'" mat-menu-item routerLink="/administrador">
            Panel Administrador
          </button>

          <button *ngIf="userRole === 'usuario'" mat-menu-item routerLink="/cuentas">
            Mis Cuentas
          </button>
          <!--  Opci贸n com煤n para cerrar sesi贸n -->
          <button mat-menu-item (click)="logout()">Cerrar Sesi贸n</button>
        </mat-menu>
      </ng-container>

      <!--  Si el usuario no est谩 autenticado -->
      <ng-template #notLoggedIn>
        <a routerLink="/registro" class="btn hazteCliente">Hazte cliente</a>
        <a routerLink="/login" class="btn login-btn">Login</a>
      </ng-template>
    </div>
  </div>
</nav>
