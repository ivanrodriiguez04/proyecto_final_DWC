<nav class="navbar navbar-expand-lg navbar-light">
  <div class="container-fluid">
    <a class="navbar-brand" routerLink="/">InnovaBank</a>

    <div class="d-flex">
      <ng-container *ngIf="userRole; else notLoggedIn">
        <!-- üîπ Ahora se usa un bot√≥n en lugar de solo texto -->
        <button 
          mat-button 
          [matMenuTriggerFor]="userMenu" 
          #menuTrigger="matMenuTrigger"
          (mouseenter)="openMenu(menuTrigger)"
        >
          {{ userEmail }}
        </button>

        <!-- üîπ Men√∫ desplegable -->
        <mat-menu 
          #userMenu="matMenu"
          (mouseenter)="cancelClose()"
          (mouseleave)="scheduleClose(menuTrigger)"
        > <button mat-menu-item (click)="logout()">Cerrar Sesi√≥n</button>
        </mat-menu>
      </ng-container>

      <ng-template #notLoggedIn>
        <a routerLink="/registro" class="btn hazteCliente">Hazte cliente</a>
        <a routerLink="/login" class="btn login-btn">Login</a>
      </ng-template>
    </div>
  </div>
</nav>
